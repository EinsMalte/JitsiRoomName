


<h1 id='name'>Name:</h1>
<h2>Passwort:</h2><h2 id='passwort'></h2>
<button onclick="generate()">Generieren</button><button onclick="use()">Passwort kopieren und den Jitsiraum öffnen</button><br>
<h3>Läge des Namen: </h6><input type="number" id='NL' name="NL">
<br>
<h3>Läge des Passworts: </h6><input type="number" id='PL' name="PL">

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
	let Name = document.getElementById('name');
	let Passwort = document.getElementById('passwort');
	let name_to_go = 0;
	let password_to_go = 0;
	let generatedName = "";
	let generatedPassword = "";
	document.getElementById('NL').value = 15;
	document.getElementById('PL').value = 25;
	
	let characters = "AaBbcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz123456789!!§$%&/()=";
	
	let lastcharakter = '';
	let trys = 3;
	function generate() {
		
		
		generatedName = "";
		generatedPassword = "";

		
		let Namelength = document.getElementById('NL').value;
		

		
		let Passwordlength = document.getElementById('PL').value;
		name_to_go = Namelength;
		password_to_go = Passwordlength;
		

	}
	
	function getRandomInt(max) {
		return Math.floor(Math.random() * Math.floor(max));
	}
	
	setInterval(function(){ 
		if(name_to_go > 0) {
			if(trys == 0) {
				generatedName = generatedName + lastcharakter;
				name_to_go--;
				trys = 5;
				lastcharakter = '';
			} else {
				trys--;
				lastcharakter = characters.charAt(getRandomInt(characters.length-1))
			}
			Name.innerHTML = "Name: " + generatedName + lastcharakter;
		} else if(password_to_go > 0) {
			if(trys == 0) {
				generatedPassword = generatedPassword + lastcharakter;
				password_to_go--;
				trys = 5;
				lastcharakter = '';
			} else {
				trys--;
				lastcharakter = characters.charAt(getRandomInt(characters.length-1))
			}
			Passwort.innerHTML = "" + generatedPassword+lastcharakter;
		}
		
		
	}, 10);
	
	function use() {

	  copyStringToClipboard(generatedPassword);
	  
	  
	  window.open('https://meet.jit.si/' + generatedName);
	}
	
	function copyStringToClipboard (str) {
		// Temporäres Element erzeugen
	   var el = document.createElement('textarea');
	   // Den zu kopierenden String dem Element zuweisen
	   el.value = str;
	   // Element nicht editierbar setzen und aus dem Fenster schieben
	   el.setAttribute('readonly', '');
	   el.style = {position: 'absolute', left: '-9999px'};
	   document.body.appendChild(el);
	   // Text innerhalb des Elements auswählen
	   el.select();
	   // Ausgewählten Text in die Zwischenablage kopieren
	   document.execCommand('copy');
	   // Temporäres Element löschen
	   document.body.removeChild(el);
	}
</script>
